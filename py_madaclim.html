<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>py_madaclim main package &mdash; py-madaclim 0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            py-madaclim
          </a>
              <div class="version">
                0.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">py_madaclim main package</a><ul>
<li><a class="reference internal" href="#module-py_madaclim.info">py_madaclim.info module</a><ul>
<li><a class="reference internal" href="#py_madaclim.info.MadaclimLayers"><code class="docutils literal notranslate"><span class="pre">MadaclimLayers</span></code></a><ul>
<li><a class="reference internal" href="#py_madaclim.info.MadaclimLayers.clim_raster"><code class="docutils literal notranslate"><span class="pre">MadaclimLayers.clim_raster</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.info.MadaclimLayers.env_raster"><code class="docutils literal notranslate"><span class="pre">MadaclimLayers.env_raster</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.info.MadaclimLayers.all_layers"><code class="docutils literal notranslate"><span class="pre">MadaclimLayers.all_layers</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.info.MadaclimLayers.categorical_layers"><code class="docutils literal notranslate"><span class="pre">MadaclimLayers.categorical_layers</span></code></a></li>
<li><a class="reference internal" href="#id0"><code class="docutils literal notranslate"><span class="pre">MadaclimLayers.all_layers</span></code></a></li>
<li><a class="reference internal" href="#id1"><code class="docutils literal notranslate"><span class="pre">MadaclimLayers.categorical_layers</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.info.MadaclimLayers.clim_crs"><code class="docutils literal notranslate"><span class="pre">MadaclimLayers.clim_crs</span></code></a></li>
<li><a class="reference internal" href="#id2"><code class="docutils literal notranslate"><span class="pre">MadaclimLayers.clim_raster</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.info.MadaclimLayers.download_data"><code class="docutils literal notranslate"><span class="pre">MadaclimLayers.download_data()</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.info.MadaclimLayers.env_crs"><code class="docutils literal notranslate"><span class="pre">MadaclimLayers.env_crs</span></code></a></li>
<li><a class="reference internal" href="#id3"><code class="docutils literal notranslate"><span class="pre">MadaclimLayers.env_raster</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.info.MadaclimLayers.fetch_specific_layers"><code class="docutils literal notranslate"><span class="pre">MadaclimLayers.fetch_specific_layers()</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.info.MadaclimLayers.get_bandnums_from_layers"><code class="docutils literal notranslate"><span class="pre">MadaclimLayers.get_bandnums_from_layers()</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.info.MadaclimLayers.get_categorical_combinations"><code class="docutils literal notranslate"><span class="pre">MadaclimLayers.get_categorical_combinations()</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.info.MadaclimLayers.get_layers_labels"><code class="docutils literal notranslate"><span class="pre">MadaclimLayers.get_layers_labels()</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.info.MadaclimLayers.select_geoclim_type_layers"><code class="docutils literal notranslate"><span class="pre">MadaclimLayers.select_geoclim_type_layers()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-py_madaclim.raster_manipulation">py_madaclim.raster_manipulation module</a><ul>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection"><code class="docutils literal notranslate"><span class="pre">MadaclimCollection</span></code></a><ul>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection.add_points"><code class="docutils literal notranslate"><span class="pre">MadaclimCollection.add_points()</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection.all_points"><code class="docutils literal notranslate"><span class="pre">MadaclimCollection.all_points</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection.binary_encode_categorical"><code class="docutils literal notranslate"><span class="pre">MadaclimCollection.binary_encode_categorical()</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection.encoded_categ_labels"><code class="docutils literal notranslate"><span class="pre">MadaclimCollection.encoded_categ_labels</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection.encoded_categ_layers"><code class="docutils literal notranslate"><span class="pre">MadaclimCollection.encoded_categ_layers</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection.gdf"><code class="docutils literal notranslate"><span class="pre">MadaclimCollection.gdf</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection.is_categorical_encoded"><code class="docutils literal notranslate"><span class="pre">MadaclimCollection.is_categorical_encoded</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection.nodata_layers"><code class="docutils literal notranslate"><span class="pre">MadaclimCollection.nodata_layers</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection.plot_on_layer"><code class="docutils literal notranslate"><span class="pre">MadaclimCollection.plot_on_layer()</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection.populate_from_csv"><code class="docutils literal notranslate"><span class="pre">MadaclimCollection.populate_from_csv()</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection.populate_from_df"><code class="docutils literal notranslate"><span class="pre">MadaclimCollection.populate_from_df()</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection.remove_points"><code class="docutils literal notranslate"><span class="pre">MadaclimCollection.remove_points()</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection.sample_from_rasters"><code class="docutils literal notranslate"><span class="pre">MadaclimCollection.sample_from_rasters()</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection.sampled_layers"><code class="docutils literal notranslate"><span class="pre">MadaclimCollection.sampled_layers</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection.sanitize_attr_name"><code class="docutils literal notranslate"><span class="pre">MadaclimCollection.sanitize_attr_name()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint</span></code></a><ul>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.specimen_id"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.specimen_id</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.latitude"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.latitude</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.longitude"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.longitude</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.source_crs"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.source_crs</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.mada_geom_point"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.mada_geom_point</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.sampled_layers"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.sampled_layers</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.nodata_layers"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.nodata_layers</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.is_categorical_encoded"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.is_categorical_encoded</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.encoded_categ"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.encoded_categ</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.encoded_categ_layers"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.encoded_categ_layers</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.gdf"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.gdf</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.base_attr"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.base_attr</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.binary_encode_categorical"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.binary_encode_categorical()</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.encoded_categ_labels"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.encoded_categ_labels</span></code></a></li>
<li><a class="reference internal" href="#id6"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.encoded_categ_layers</span></code></a></li>
<li><a class="reference internal" href="#id7"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.gdf</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.get_args_names"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.get_args_names()</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.get_default_source_crs"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.get_default_source_crs()</span></code></a></li>
<li><a class="reference internal" href="#id8"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.is_categorical_encoded</span></code></a></li>
<li><a class="reference internal" href="#id9"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.latitude</span></code></a></li>
<li><a class="reference internal" href="#id10"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.longitude</span></code></a></li>
<li><a class="reference internal" href="#id11"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.mada_geom_point</span></code></a></li>
<li><a class="reference internal" href="#id12"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.nodata_layers</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.plot_on_layer"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.plot_on_layer()</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint.sample_from_rasters"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.sample_from_rasters()</span></code></a></li>
<li><a class="reference internal" href="#id15"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.sampled_layers</span></code></a></li>
<li><a class="reference internal" href="#id16"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.source_crs</span></code></a></li>
<li><a class="reference internal" href="#id17"><code class="docutils literal notranslate"><span class="pre">MadaclimPoint.specimen_id</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimRasters"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters</span></code></a><ul>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimRasters.clim_raster"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters.clim_raster</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimRasters.clim_crs"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters.clim_crs</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimRasters.clim_nodata_val"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters.clim_nodata_val</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimRasters.clim_bounds"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters.clim_bounds</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimRasters.env_raster"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters.env_raster</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimRasters.env_crs"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters.env_crs</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimRasters.env_nodata_val"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters.env_nodata_val</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimRasters.env_bounds"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters.env_bounds</span></code></a></li>
<li><a class="reference internal" href="#id18"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters.clim_bounds</span></code></a></li>
<li><a class="reference internal" href="#id19"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters.clim_crs</span></code></a></li>
<li><a class="reference internal" href="#id20"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters.clim_nodata_val</span></code></a></li>
<li><a class="reference internal" href="#id21"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters.clim_raster</span></code></a></li>
<li><a class="reference internal" href="#id22"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters.env_bounds</span></code></a></li>
<li><a class="reference internal" href="#id23"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters.env_crs</span></code></a></li>
<li><a class="reference internal" href="#id24"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters.env_nodata_val</span></code></a></li>
<li><a class="reference internal" href="#id25"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters.env_raster</span></code></a></li>
<li><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimRasters.plot_layer"><code class="docutils literal notranslate"><span class="pre">MadaclimRasters.plot_layer()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">py-madaclim</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">py_madaclim main package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/py_madaclim.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="py-madaclim-main-package">
<h1>py_madaclim main package<a class="headerlink" href="#py-madaclim-main-package" title="Permalink to this heading"></a></h1>
<p>API docs for both <cite>info</cite> and <cite>raster_manipulation</cite> modules under the main <cite>py-madaclim</cite> package.</p>
<p>You can find the API docs for the <cite>py-madaclim.utils</cite> sub-module <a class="reference internal" href="py_madaclim.utils.html"><span class="doc">here</span></a></p>
<section id="module-py_madaclim.info">
<span id="py-madaclim-info-module"></span><h2>py_madaclim.info module<a class="headerlink" href="#module-py_madaclim.info" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="py_madaclim.info.MadaclimLayers">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_madaclim.info.</span></span><span class="sig-name descname"><span class="pre">MadaclimLayers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clim_raster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_raster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_madaclim/info.html#MadaclimLayers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.info.MadaclimLayers" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class that represents all of the information and data from the climate
and environmental variable layers that can be found from the rasters of
the Madaclim database.</p>
<p>The main metadata retrieval tool for the Madaclim database. Access all layers information with the <cite>all_layers</cite> attribute.
Also provides methods to filter, generate unique labels from the <cite>all_layers</cite> attr.
Access the crs and band number from the climate and environmental rasters when they are provided in the constructor.
Categorical data can be explored in details with the <cite>categorical_layers</cite> attribute and the value:category pairs with the <cite>get_categorical_combinations</cite>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.info.MadaclimLayers.clim_raster">
<span class="sig-name descname"><span class="pre">clim_raster</span></span><a class="headerlink" href="#py_madaclim.info.MadaclimLayers.clim_raster" title="Permalink to this definition"></a></dt>
<dd><p>The path to the Madaclim climate raster GeoTiff file. Defaults to None if not specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pathlib.Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.info.MadaclimLayers.env_raster">
<span class="sig-name descname"><span class="pre">env_raster</span></span><a class="headerlink" href="#py_madaclim.info.MadaclimLayers.env_raster" title="Permalink to this definition"></a></dt>
<dd><p>The path to the Madaclim environmental raster GeoTif file. Defaults to None if not specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pathlib.Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.info.MadaclimLayers.all_layers">
<span class="sig-name descname"><span class="pre">all_layers</span></span><a class="headerlink" href="#py_madaclim.info.MadaclimLayers.all_layers" title="Permalink to this definition"></a></dt>
<dd><p>A DataFrame containing a complete and formatted version of all Madaclim layers.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.info.MadaclimLayers.categorical_layers">
<span class="sig-name descname"><span class="pre">categorical_layers</span></span><a class="headerlink" href="#py_madaclim.info.MadaclimLayers.categorical_layers" title="Permalink to this definition"></a></dt>
<dd><p>A DataFrame containing the in depth information about the layers with categorical data.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id0">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all_layers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#id0" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the ‘all_layers’ Dataframe using the private ‘_get_madaclim_layers’ method.</p>
<p>Contains all information about all the raster layers in the Madaclim db.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A DataFrame containing a complete and formatted version of all Madaclim layers.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id1">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">categorical_layers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#id1" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the ‘categorical_layers’ Dataframe using the private ‘_get_categorical_df’ method.</p>
<p>Contains detailed information about the categorical layers from the rasters in the Madaclim db.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A DataFrame containing information for each categorical value in each layer</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="py_madaclim.info.MadaclimLayers.clim_crs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clim_crs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">CRS</span></em><a class="headerlink" href="#py_madaclim.info.MadaclimLayers.clim_crs" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the Coordinate Reference System (CRS) from the Madaclim climate raster.</p>
<dl class="simple">
<dt>This property first validates the <cite>clim_raster</cite> attribute, ensuring its integrity and existence.</dt><dd><p>It then opens the raster file and retrieves the CRS in EPSG format. The EPSG code is used to
create and return a pyproj CRS object.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The CRS object derived from the EPSG code of the climate raster.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pyproj.crs.crs.CRS</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Valid ‘clim_raster’ attribute before accessing the ‘clim_crs’ attr.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span> <span class="o">=</span> <span class="n">MadaclimLayers</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span><span class="o">.</span><span class="n">clim_crs</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Undefined attribute: &#39;</span><span class="si">{</span><span class="n">raster_attr_name</span><span class="si">}</span><span class="s2">&#39;. You need to assign a valid pathlib.Path to the related raster attribute first.&quot;</span><span class="p">)</span>
<span class="gr">AttributeError</span>: <span class="n">Undefined attribute: &#39;clim_raster&#39;. You need to assign a valid pathlib.Path to the related raster attribute first.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span><span class="o">.</span><span class="n">clim_raster</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;./madaclim_current.tif&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mada_info</span><span class="o">.</span><span class="n">clim_crs</span><span class="p">)</span>
<span class="go">EPSG:32738</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id2">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clim_raster</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Path</span></em><a class="headerlink" href="#id2" title="Permalink to this definition"></a></dt>
<dd><p>Get or set the path to the climate raster file.</p>
<dl class="simple">
<dt>This property allows you to get the current path to the climate raster file, or set a new</dt><dd><p>path. If setting a new path, the value must be a pathlib.Path object or a str. If the value
is a str, it will be converted to a pathlib.Path object. The path must exist, otherwise a
FileNotFoundError will be raised.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current path to the climate raster file.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If the new path is not a pathlib.Path object or str.</p></li>
<li><p><strong>ValueError</strong> – If the new path cannot be converted to a pathlib.Path object.</p></li>
<li><p><strong>FileNotFoundError</strong> – If the new path does not exist.</p></li>
</ul>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pathlib.Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.info.MadaclimLayers.download_data">
<span class="sig-name descname"><span class="pre">download_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_madaclim/info.html#MadaclimLayers.download_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.info.MadaclimLayers.download_data" title="Permalink to this definition"></a></dt>
<dd><p>Downloads climate and environment raster files from the Madaclim website.</p>
<p>This method downloads the climate and environment raster data from the Madaclim website
and saves them to the specified directory. If no directory is specified, the data is saved
to the current working directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>save_dir</strong> (<em>Optional</em><em>[</em><em>pathlib.Path</em><em>]</em>) – The directory where the data should be saved. If not specified,
the data is saved to the current working directory.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If save_dir is not a directory.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="py_madaclim.info.MadaclimLayers.env_crs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">env_crs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">CRS</span></em><a class="headerlink" href="#py_madaclim.info.MadaclimLayers.env_crs" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the Coordinate Reference System (CRS) from the Madaclim environmental raster.</p>
<p>This property first validates the <cite>env_raster</cite> attribute, ensuring its integrity and existence.
It then opens the raster file and retrieves the CRS in EPSG format. The EPSG code is used to
create and return a pyproj CRS object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The CRS object derived from the EPSG code of the environmental raster.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pyproj.crs.crs.CRS</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Valid ‘env_raster’ attribute before accessing the ‘env_crs’ attr.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span> <span class="o">=</span> <span class="n">MadaclimLayers</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span><span class="o">.</span><span class="n">env_crs</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Undefined attribute: &#39;</span><span class="si">{</span><span class="n">raster_attr_name</span><span class="si">}</span><span class="s2">&#39;. You need to assign a valid pathlib.Path to the related raster attribute first.&quot;</span><span class="p">)</span>
<span class="gr">AttributeError</span>: <span class="n">Undefined attribute: &#39;env_raster&#39;. You need to assign a valid pathlib.Path to the related raster attribute first.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span><span class="o">.</span><span class="n">env_raster</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;./madaclim_current.tif&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mada_info</span><span class="o">.</span><span class="n">env_crs</span><span class="p">)</span>
<span class="go">EPSG:32738</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id3">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">env_raster</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Path</span></em><a class="headerlink" href="#id3" title="Permalink to this definition"></a></dt>
<dd><p>Get or set the path to the environment raster file.</p>
<dl class="simple">
<dt>This property allows you to get the current path to the environment raster file, or set a new</dt><dd><p>path. If setting a new path, the value must be a pathlib.Path object or a str. If the value
is a str, it will be converted to a pathlib.Path object. The path must exist, otherwise a
FileNotFoundError will be raised.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current path to the environment raster file.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If the new path is not a pathlib.Path object or str.</p></li>
<li><p><strong>ValueError</strong> – If the new path cannot be converted to a pathlib.Path object.</p></li>
<li><p><strong>FileNotFoundError</strong> – If the new path does not exist.</p></li>
</ul>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pathlib.Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.info.MadaclimLayers.fetch_specific_layers">
<span class="sig-name descname"><span class="pre">fetch_specific_layers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layers_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/py_madaclim/info.html#MadaclimLayers.fetch_specific_layers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.info.MadaclimLayers.fetch_specific_layers" title="Permalink to this definition"></a></dt>
<dd><p>Fetches specific layers from the <cite>all_layers</cite> DataFrame based on the given input and returns either the entire rows or
certain columns as a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layers_labels</strong> (<em>Union</em><em>[</em><em>int</em><em>, </em><em>str</em><em>, </em><em>List</em><em>[</em><em>Union</em><em>[</em><em>int</em><em>, </em><em>str</em><em>]</em><em>]</em><em>]</em>) – The layer labels to fetch. Can be a single int or str value,
or a list of int or str values. The input can also be in the format “layer_{num}” or
“{geotype}_{num}_{name}_({description})” (output from <cite>get_layers_labels(as_descriptive_labels=True)</cite> method).</p></li>
<li><p><strong>*args</strong> (<em>str</em>) – Optional. One or more column names in <cite>all_layers</cite> DataFrame. If specified, only these columns</p></li>
<li><p><strong>dictionary.</strong> (<em>will be returned as a</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl>
<dt>If <cite>args</cite> is specified, returns a nested dictionary with the format:</dt><dd><dl class="simple">
<dt>{</dt><dd><dl class="simple">
<dt>layer_&lt;num&gt;: {</dt><dd><p>&lt;arg1&gt;: &lt;value&gt;,
&lt;arg2&gt;: &lt;value&gt;,
…</p>
</dd>
</dl>
</dd>
</dl>
<p>}
Otherwise, returns a DataFrame with the specified layers.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[dict, pd.DataFrame]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If any value in layers_labels cannot be converted to an int or is not in the “layer_{num}” format.</p></li>
<li><p><strong>ValueError</strong> – If any layer_number does not fall between the minimum and maximum layer numbers.</p></li>
<li><p><strong>KeyError</strong> – If any value in args is not a column in <cite>all_layers</cite> DataFrame.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Using a list of layer numbers</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span> <span class="o">=</span> <span class="n">MadaclimLayers</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span><span class="o">.</span><span class="n">fetch_specific_layers</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">71</span><span class="p">])</span>
<span class="go">   geoclim_type  layer_number layer_name                      layer_description  is_categorical         units</span>
<span class="go">0          clim             1      tmin1  Monthly minimum temperature - January           False       °C x 10</span>
<span class="go">14         clim            15      tmax3    Monthly maximum temperature - March           False       °C x 10</span>
<span class="go">54         clim            55      bio19       Precipitation of coldest quarter           False  mm.3months-1</span>
<span class="go">70          env            71        alt                               Altitude           False        meters</span>
</pre></div>
</div>
<p>Using the output from <cite>get_layers_labels</cite> method</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bioclim_labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">label</span> <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">mada_info</span><span class="o">.</span><span class="n">get_layers_labels</span><span class="p">(</span><span class="n">as_descriptive_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="s2">&quot;bio&quot;</span> <span class="ow">in</span> <span class="n">label</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bio1_bio2_labels</span> <span class="o">=</span> <span class="n">bioclim_labels</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span><span class="o">.</span><span class="n">fetch_specific_layers</span><span class="p">(</span><span class="n">bio1_bio2_labels</span><span class="p">)</span>
<span class="go">geoclim_type  layer_number layer_name                 layer_description  is_categorical                                       units</span>
<span class="go">36         clim            37       bio1           Annual mean temperature           False                                     degrees</span>
<span class="go">37         clim            38       bio2                Mean diurnal range           False  mean of monthly max temp - monthy min temp</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Or from descriptive_labels as well</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pet_layers</span> <span class="o">=</span> <span class="p">[</span><span class="n">label</span> <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">mada_info</span><span class="o">.</span><span class="n">get_layers_labels</span><span class="p">(</span><span class="n">as_descriptive_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="s2">&quot;pet&quot;</span> <span class="ow">in</span> <span class="n">label</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">pet_layers</span><span class="p">)</span>
<span class="go">13</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span><span class="o">.</span><span class="n">fetch_specific_layers</span><span class="p">(</span><span class="n">pet_layers</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="go">   geoclim_type  layer_number layer_name                                  layer_description  is_categorical units</span>
<span class="go">67         clim            68        pet  Annual potential evapotranspiration from the T...           False    mm</span>
</pre></div>
</div>
<p>Fetch as dict with keys as layer_&lt;num&gt; and vals of choice using</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span><span class="o">.</span><span class="n">fetch_specific_layers</span><span class="p">([</span><span class="mi">55</span><span class="p">,</span> <span class="mi">75</span><span class="p">],</span> <span class="s2">&quot;geoclim_type&quot;</span><span class="p">,</span> <span class="s2">&quot;layer_name&quot;</span><span class="p">,</span> <span class="s2">&quot;is_categorical&quot;</span><span class="p">)</span>
<span class="go">{</span>
</pre></div>
</div>
<blockquote>
<div><dl class="simple">
<dt>‘layer_55’: {</dt><dd><p>‘geoclim_type’: ‘clim’,
‘layer_name’: ‘bio19’,
‘is_categorical’: False</p>
</dd>
</dl>
<p>},
‘layer_75’: {</p>
<blockquote>
<div><p>‘geoclim_type’: ‘env’,
‘layer_name’: ‘geo’,
‘is_categorical’: True}</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>}
&gt;&gt;&gt; # Only col names will be accepted as additionnal args
&gt;&gt;&gt; bio1 = next((layer for layer in mada_info.get_layers_labels(as_descriptive_labels=True) if “bio1” in layer), None)
&gt;&gt;&gt; mada_info.fetch_specific_layers(bio1, “band_number”)
Traceback (most recent call last):</p>
<blockquote>
<div><dl class="simple">
<dt>if not min_layer &lt;= layer_number &lt;= max_layer:</dt><dd></dd>
</dl>
</div></blockquote>
<p>KeyError: “Invalid args: [‘band_number’]. Args must be one of a key of [‘geoclim_type’, ‘layer_number’, ‘layer_name’, ‘layer_description’, ‘is_categorical’, ‘units’] or ‘all’”
&gt;&gt;&gt; # Get all keys with the <cite>all</cite> argument
&gt;&gt;&gt; mada_info.fetch_specific_layers(bio1, “all”)
{</p>
<blockquote>
<div><dl class="simple">
<dt>‘layer_37’: {</dt><dd><p>‘geoclim_type’: ‘clim’,
‘layer_number’: 37,
‘layer_name’: ‘bio1’,
‘layer_description’: ‘Annual mean temperature’,
‘is_categorical’: False,
‘units’: ‘degrees’</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>}</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.info.MadaclimLayers.get_bandnums_from_layers">
<span class="sig-name descname"><span class="pre">get_bandnums_from_layers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layers_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/py_madaclim/info.html#MadaclimLayers.get_bandnums_from_layers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.info.MadaclimLayers.get_bandnums_from_layers" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves band numbers corresponding to the provided layers’ labels.</p>
<p>This method accepts labels for a subset of layers (specified as either layer numbers, “layer_&lt;num&gt;” format, or descriptive labels)
and returns the corresponding band numbers from the <cite>all_layers</cite> dataframe. If the input is in the descriptive label format or “layer_&lt;num&gt;” format,
it should match the output of the <cite>get_layers_labels</cite> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>layers_labels</strong> (<em>Union</em><em>[</em><em>int</em><em>, </em><em>str</em><em>, </em><em>List</em><em>[</em><em>Union</em><em>[</em><em>int</em><em>, </em><em>str</em><em>]</em><em>]</em><em>]</em>) – A list of layer labels in various formats, or a single layer label.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If elements of <cite>layers_labels</cite> cannot be converted to int or if they do not match the format produced by the <cite>get_layers_labels</cite> method.</p></li>
<li><p><strong>ValueError</strong> – If the derived layer numbers do not fall within the valid range of layer numbers in the <cite>all_layers</cite> dataframe.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of band numbers corresponding to the provided layer labels.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[int]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span> <span class="o">=</span> <span class="n">MadaclimLayers</span><span class="p">(</span><span class="n">clim_raster</span><span class="o">=</span><span class="s2">&quot;madaclim_current.tif&quot;</span><span class="p">,</span> <span class="n">env_raster</span><span class="o">=</span><span class="s2">&quot;madaclim_enviro.tif&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">last_20</span> <span class="o">=</span> <span class="n">mada_info</span><span class="o">.</span><span class="n">get_layers_labels</span><span class="p">()[</span><span class="o">-</span><span class="mi">20</span><span class="p">:]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">band_nums</span> <span class="o">=</span> <span class="n">mada_info</span><span class="o">.</span><span class="n">get_bandnums_from_layers</span><span class="p">(</span><span class="n">last_20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">band_nums</span>
<span class="go">[60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.info.MadaclimLayers.get_categorical_combinations">
<span class="sig-name descname"><span class="pre">get_categorical_combinations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layers_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_descriptive_keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/py_madaclim/info.html#MadaclimLayers.get_categorical_combinations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.info.MadaclimLayers.get_categorical_combinations" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dictionary representation of the specified categorical layers corresponding the the categorical value encoding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layers_labels</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><em>int</em><em>, </em><em>str</em><em>, </em><em>List</em><em>[</em><em>Union</em><em>[</em><em>int</em><em>, </em><em>str</em><em>]</em><em>]</em><em>]</em><em>]</em>) – The layer labels to fetch. Can be a single
integer or string value, or a list of integer or string values. The input can also be in the format
“layer_{num}” or “{geotype}_{num}_{name}_({unit})” (output from <cite>get_layers_labels(as_descriptive_labels=True)</cite> method).
If <cite>layers_labels</cite> is <cite>None</cite>, all categorical layers are fetched.</p></li>
<li><p><strong>as_descriptive_keys</strong> (<em>bool</em>) – If True, returns the descriptive layer labels. Otherwise, returns
the “layer_&lt;num&gt;” format. Defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If <cite>layers_labels</cite> is not a list of integers or strings, a single integer or a string</p></li>
<li><p><strong>that can be converted to an integer</strong><strong>, or </strong><strong>in the output format from the 'get_layers_labels' method.</strong> – </p></li>
<li><p><strong>ValueError</strong> – If a layer number in <cite>layers_labels</cite> is not a valid categorical layer number.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary of the specified categorical layers.
If multiple layers were specified, the dictionary keys are ‘layer_{num}’, and the values are dictionaries
with layer values as keys and their corresponding categories as values.
If a single layer was specified, the dictionary keys are the categorical values, and the values are the
categories themselves.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Union[dict, Dict[str, Dict[int, str]]]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>If multiple layers specified, it returns:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">madaclim_info</span> <span class="o">=</span> <span class="n">MadaclimLayers</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">&gt;&gt;&gt;</span> <span class="n">madaclim_info</span><span class="o">.</span><span class="n">get_categorical_combinations</span><span class="p">([</span><span class="mi">75</span><span class="p">,</span> <span class="mi">76</span><span class="p">])</span>
<span class="go">{</span>
<span class="go">    &#39;layer_75&#39;: {</span>
<span class="go">        1: &#39;N-Bemarivo&#39;,</span>
<span class="go">        2: &#39;S-Bemarivo,_N-Mangoro&#39;,</span>
<span class="go">        ...</span>
<span class="go">    },</span>
<span class="go">    &#39;layer_76&#39;: {</span>
<span class="go">        1: &#39;Bare_Rocks&#39;,</span>
<span class="go">        2: &#39;Raw_Lithic_Mineral_Soils&#39;,</span>
<span class="go">        ...</span>
<span class="go">    },</span>
<span class="go">    ...</span>
<span class="go">}</span>
</pre></div>
</div>
<p>If a single layer is specified, it returns:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">madaclim_info</span><span class="o">.</span><span class="n">get_categorical_combinations</span><span class="p">(</span><span class="s2">&quot;layer_76&quot;</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;layer_76: {</span>
<span class="go">        1: &#39;Bare_Rocks&#39;,</span>
<span class="go">        2: &#39;Raw_Lithic_Mineral_Soils&#39;,</span>
<span class="go">    ...</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre></div>
</div>
<p>For more descriptive keys (same output from as_descriptive_labels)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">madaclim_info</span><span class="o">.</span><span class="n">get_categorical_combinations</span><span class="p">(</span><span class="s2">&quot;layer_76&quot;</span><span class="p">,</span> <span class="n">as_descriptive_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;env_76_soi_Soil types (categ_vals: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23)&#39;: {</span>
<span class="go">        1: &#39;Bare_Rocks&#39;,</span>
<span class="go">        2: &#39;Raw_Lithic_Mineral_Soils&#39;,</span>
<span class="go">    ...</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.info.MadaclimLayers.get_layers_labels">
<span class="sig-name descname"><span class="pre">get_layers_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layers_subset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_descriptive_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="reference internal" href="_modules/py_madaclim/info.html#MadaclimLayers.get_layers_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.info.MadaclimLayers.get_layers_labels" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves unique layer labels based on the provided subset of layers.</p>
<p>This method fetches the unique labels from the <cite>all_layers</cite> dataframe,
given a subset of layers (specified as either layer numbers, a geoclim_type, or a single layer number).
The layer labels can be returned in a descriptive format if <cite>as_descriptive_labels</cite> is set to True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layers_subset</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><em>List</em><em>[</em><em>int</em><em>]</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – A list of layer numbers or a geoclim_type string
to subset the labels from, or a single layer number as a string or int. Defaults to None, which will
select all layers (no subset).</p></li>
<li><p><strong>as_descriptive_labels</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, returns the descriptive layer labels. Otherwise, returns
the “layer_&lt;num&gt;” format. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If elements of <cite>layers_subset</cite> cannot be converted to int.</p></li>
<li><p><strong>ValueError</strong> – If <cite>layers_subset</cite> is a string not in <cite>possible_geoclim_types</cite>, cannot be converted to int,
    or if the ‘layer_number’ and ‘layer_name’ columns in the <cite>all_layers</cite> dataframe have non-unique entries.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of unique layer labels. These labels are either in the “layer_&lt;num&gt;” format or the descriptive format,
based on <cite>as_descriptive_labels</cite>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Get labels for all layers</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span> <span class="o">=</span> <span class="n">MadaclimLayers</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">all_layers</span> <span class="o">=</span> <span class="n">mada_info</span><span class="o">.</span><span class="n">get_layers_labels</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">all_layers</span><span class="p">)</span>
<span class="go">79</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Basic format &#39;layer_&lt;num&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">all_layers</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
<span class="go">[&#39;layer_1&#39;, &#39;layer_2&#39;, &#39;layer_3&#39;, &#39;layer_4&#39;, &#39;layer_5&#39;]</span>
</pre></div>
</div>
<p>Specify a geoclim subset</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">env_layers</span> <span class="o">=</span> <span class="n">mada_info</span><span class="o">.</span><span class="n">get_layers_labels</span><span class="p">(</span><span class="n">layers_subset</span><span class="o">=</span><span class="s2">&quot;env&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">env_layers</span>
<span class="go">[&#39;layer_71&#39;, &#39;layer_72&#39;, &#39;layer_73&#39;, &#39;layer_74&#39;, &#39;layer_75&#39;, &#39;layer_76&#39;, &#39;layer_77&#39;, &#39;layer_78&#39;, &#39;layer_79&#39;]</span>
</pre></div>
</div>
<p>Extract more information</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">informative_labels</span> <span class="o">=</span> <span class="n">mada_info</span><span class="o">.</span><span class="n">get_layers_labels</span><span class="p">(</span><span class="n">as_descriptive_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">informative_labels</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
<span class="go">[&#39;clim_1_tmin1_Monthly minimum temperature - January (°C x 10)&#39;, &#39;clim_2_tmin2_Monthly minimum temperature - February (°C x 10)&#39;]</span>
</pre></div>
</div>
<p>Specify a single layer or a subset of layers</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span><span class="o">.</span><span class="n">get_layers_labels</span><span class="p">(</span><span class="mi">37</span><span class="p">,</span> <span class="n">as_descriptive_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[&#39;clim_37_bio1_Annual mean temperature (degrees)&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span><span class="o">.</span><span class="n">get_layers_labels</span><span class="p">([</span><span class="mi">68</span><span class="p">,</span> <span class="mi">75</span><span class="p">],</span> <span class="n">as_descriptive_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[&#39;clim_68_pet_Annual potential evapotranspiration from the Thornthwaite equation (mm)&#39;, &#39;env_75_geo_Rock types (categ_vals: 1, 2, 4, 5, 6, 7, 9, 10, 11, 12, 13)&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.info.MadaclimLayers.select_geoclim_type_layers">
<span class="sig-name descname"><span class="pre">select_geoclim_type_layers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geoclim_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/py_madaclim/info.html#MadaclimLayers.select_geoclim_type_layers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.info.MadaclimLayers.select_geoclim_type_layers" title="Permalink to this definition"></a></dt>
<dd><p>Method that selects the desired geoclimatic type layers as a dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>geoclim_type</strong> (<em>str</em>) – The desired geoclimatic layers type to extract.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A slice of the <cite>all_layers</cite> dataframe containing the desired geoclimatic type layers.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If geoclim_type is not a string.</p></li>
<li><p><strong>ValueError</strong> – If geoclim_type does not corresponds to a valid geoclim type.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-py_madaclim.raster_manipulation">
<span id="py-madaclim-raster-manipulation-module"></span><h2>py_madaclim.raster_manipulation module<a class="headerlink" href="#module-py_madaclim.raster_manipulation" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimCollection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_madaclim.raster_manipulation.</span></span><span class="sig-name descname"><span class="pre">MadaclimCollection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">madaclim_points</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint" title="py_madaclim.raster_manipulation.MadaclimPoint"><span class="pre">MadaclimPoint</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint" title="py_madaclim.raster_manipulation.MadaclimPoint"><span class="pre">MadaclimPoint</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_madaclim/raster_manipulation.html#MadaclimCollection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimCollection" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimCollection.add_points">
<span class="sig-name descname"><span class="pre">add_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">madaclim_points</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint" title="py_madaclim.raster_manipulation.MadaclimPoint"><span class="pre">MadaclimPoint</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint" title="py_madaclim.raster_manipulation.MadaclimPoint"><span class="pre">MadaclimPoint</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/py_madaclim/raster_manipulation.html#MadaclimCollection.add_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimCollection.add_points" title="Permalink to this definition"></a></dt>
<dd><p>Adds one or more MadaclimPoint objects to the MadaclimCollection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>madaclim_points</strong> (<em>Union</em><em>[</em><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint" title="py_madaclim.raster_manipulation.MadaclimPoint"><em>MadaclimPoint</em></a><em>, </em><em>List</em><em>[</em><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint" title="py_madaclim.raster_manipulation.MadaclimPoint"><em>MadaclimPoint</em></a><em>]</em><em>]</em>) – A single MadaclimPoint object or a list of MadaclimPoint objects to be added to the MadaclimCollection.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If the input is not a MadaclimPoint object or a list of MadaclimPoint objects.</p></li>
<li><p><strong>ValueError</strong> – If the input MadaclimPoint(s) is/are already in the MadaclimCollection or if their specimen_id(s) are not unique.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Add a single point</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">py_madaclim.geoclim.raster_manipulation</span> <span class="kn">import</span> <span class="n">MadaclimPoint</span><span class="p">,</span> <span class="n">MadaclimCollection</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">specimen_1</span> <span class="o">=</span> <span class="n">MadaclimPoint</span><span class="p">(</span><span class="n">specimen_id</span><span class="o">=</span><span class="s2">&quot;spe1&quot;</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=-</span><span class="mf">23.574583</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="mf">46.419806</span><span class="p">,</span> <span class="n">source_crs</span><span class="o">=</span><span class="s2">&quot;epsg:4326&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span> <span class="o">=</span> <span class="n">MadaclimCollection</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span>
<span class="go">No MadaclimPoint inside the collection.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span><span class="o">.</span><span class="n">add_points</span><span class="p">(</span><span class="n">specimen_1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span>
<span class="go">MadaclimCollection = [</span>
<span class="go">    MadaclimPoint(specimen_id=spe1, mada_geom_point=POINT (644890.8921103649 7392153.658976035), sampled=False)</span>
<span class="go">]</span>
</pre></div>
</div>
<p>Add multiple points</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">specimen_2</span> <span class="o">=</span> <span class="n">MadaclimPoint</span><span class="p">(</span><span class="n">specimen_id</span><span class="o">=</span><span class="s2">&quot;spe2&quot;</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=-</span><span class="mf">20.138470</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="mf">46.054688</span><span class="p">,</span> <span class="n">family</span><span class="o">=</span><span class="s2">&quot;Rubiaceae&quot;</span><span class="p">,</span> <span class="n">has_sequencing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">num_samples</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">other_collection</span><span class="o">.</span><span class="n">add_points</span><span class="p">([</span><span class="n">specimen_1</span><span class="p">,</span> <span class="n">specimen_2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">other_collection</span><span class="p">)</span>
<span class="go">MadaclimCollection = [</span>
<span class="go">    MadaclimPoint(specimen_id=spe1, mada_geom_point=POINT (644890.8921103649 7392153.658976035), sampled=False),</span>
<span class="go">    MadaclimPoint(specimen_id=spe2, mada_geom_point=POINT (610233.867750987 7772846.143786541), sampled=False)</span>
<span class="go">]</span>
</pre></div>
</div>
<p>No duplicates allowed
&gt;&gt;&gt; other_collection.add_points(specimen_1)
Traceback (most recent call last):
File “&lt;stdin&gt;”, line 1, in &lt;module&gt;
File “…/src/py_madaclim/geoclim/raster_manipulation.py”, line 1013, in add_points</p>
<blockquote>
<div></div></blockquote>
<dl class="simple">
<dt>ValueError: MadaclimPoint(</dt><dd><p>specimen_id = spe1,
source_crs = 4326,
latitude = -23.574583,
longitude = 46.419806,
mada_geom_point = POINT (644890.8921103649 7392153.658976035),
sampled_layers = None,
nodata_layers = None</p>
</dd>
</dl>
<p>) is already in the current MadaclimCollection instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimCollection.all_points">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all_points</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span></em><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimCollection.all_points" title="Permalink to this definition"></a></dt>
<dd><p>Get the <cite>all_points</cite> attribute.</p>
<p>Corresponds to a list of each object in the collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of all the MadaclimPoint objects in the MadaclimCollection.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># MadaclimPoints are stored in the .all_points attributes in a list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span><span class="o">.</span><span class="n">all_points</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">MadaclimPoint(</span>
<span class="go">    specimen_id = sample_A,</span>
<span class="go">    source_crs = 4326,</span>
<span class="go">    latitude = -18.9333,</span>
<span class="go">    longitude = 48.2,</span>
<span class="go">    mada_geom_point = POINT (837072.9150244407 7903496.320897499),</span>
<span class="go">    sampled_layers = None,</span>
<span class="go">    nodata_layers = None</span>
<span class="go">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimCollection.binary_encode_categorical">
<span class="sig-name descname"><span class="pre">binary_encode_categorical</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/py_madaclim/raster_manipulation.html#MadaclimCollection.binary_encode_categorical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimCollection.binary_encode_categorical" title="Permalink to this definition"></a></dt>
<dd><p>Binary encodes the categorical layers contained in the <cite>sampled_layers</cite> attribute.</p>
<p>This function performs binary encoding of categorical layers
found in the raster data for each of the Point in the collection.
After the encoding, the function updates the Collection instance’s
attributes for the categorical encoding status, the encoded
layers and the gdf replacing the categorical columns by the binary encoded features.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If the MadaclimCollection doesn’t contain any MadaclimPoints
    or if the raster data has not been sampled yet.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>See the <cite>binary_encode_categorical</cite> method for logic and possible raised exceptions.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimCollection.encoded_categ_labels">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">encoded_categ_labels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimCollection.encoded_categ_labels" title="Permalink to this definition"></a></dt>
<dd><p>Get the labels from the binary encoded categorical layers for the whole collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>A list containing the set of the labels from the binary encoding</dt><dd><p>of categorical features from the whole collection.
None if the categorical layers have not been encoded yet.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Optional[List[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimCollection.encoded_categ_layers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">encoded_categ_layers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimCollection.encoded_categ_layers" title="Permalink to this definition"></a></dt>
<dd><p>Get the binary encoded categorical layers values.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>A nested dictionary containing the set of binary encoded categorical features.</dt><dd><p>The outer dictionary uses the MadaclimPoint.specimen_id as keys.
The corresponding value for each key is another dictionary where the keys are layer number
(or a more descriptive label) with the categorical feature.
Values correspond to the binary encoded value for that given category</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Optional[Dict[str, int]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimCollection.gdf">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gdf</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">GeoDataFrame</span></em><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimCollection.gdf" title="Permalink to this definition"></a></dt>
<dd><p>Get the GeoPandas DataFrame of the collection (concat of all points’ gdfs).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Geopandas GeoDataFrame generated from instance attributes and Point geometry.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimCollection.is_categorical_encoded">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_categorical_encoded</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimCollection.is_categorical_encoded" title="Permalink to this definition"></a></dt>
<dd><p>Get the state of the binary encoding of the categorical layers of the collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>The state of the <cite>binary_encode_categorical</cite> method. If True, the method has been called</dt><dd><p>and a new set of binary features has been generated for the whole collection.
Otherwise, either the layers have not been sampled or the categorical features havenot been encoded.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimCollection.nodata_layers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nodata_layers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimCollection.nodata_layers" title="Permalink to this definition"></a></dt>
<dd><p>Get the nodata_layers attribute of the collection generated from the <cite>sampled_from_rasters</cite> method.</p>
<p>This attribute is a dictionary that contains the MadaclimPoint.specimen_id as keys and the values as the ‘nodata_layers’ as str or list of str.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>A dictionary with MadaclimPoint.specimen_id as keys and values of str or list of str of the layers_name with nodata values.</dt><dd><p>None if Collection has not been sampled yet or all layers sampled contained valid data.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Optional[Dict[str, Union[str, List[str]]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimCollection.plot_on_layer">
<span class="sig-name descname"><span class="pre">plot_on_layer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/py_madaclim/raster_manipulation.html#MadaclimCollection.plot_on_layer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimCollection.plot_on_layer" title="Permalink to this definition"></a></dt>
<dd><p>Plot a layer as a raster map and distribution plot with a focus on the MadaclimPoint object.</p>
<p>Based on the Madaclim’s CRS, the MadaclimPoint’s geometry (<cite>mada_geom_point</cite>) is plotted
on the raster map and the sampled value is displayed against a distribution of all
possible values for that layer in Madaclim db. Pass addition kwargs to customize each
subplots (See <a href="#id4"><span class="problematic" id="id5">**</span></a>kwargs, _LayerPlotter and _LayerConfig for more details).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layer</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>int</em><em>]</em>) – Layer to plot. Accepts layer numbers as integers, or layer labels in
descriptive or <cite>layer_&lt;num&gt;</cite> format.</p></li>
<li><p><strong>**kwargs</strong> – Additional arguments to customize the subplots, imshow, colorbar, histplot and Point objects from matplotlib.
Use “subplots_&lt;arg&gt;”, “imshow_&lt;arg&gt;”, “cax_&lt;arg&gt;”, and “barplot_&lt;arg&gt;” formats to customize corresponding
the base Raster and barplot plots as matplotlib/sns arguments.
Use “point_&lt;arg&gt;” to customize the Point objects on the raster.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> – If the specified layer to plot is not has not been sampled yet.</p></li>
<li><p><strong>ValueError</strong> – If the layer label cannot be found within the sampled layers.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimCollection.populate_from_csv">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">populate_from_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">csv_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection" title="py_madaclim.raster_manipulation.MadaclimCollection"><span class="pre">MadaclimCollection</span></a></span></span><a class="reference internal" href="_modules/py_madaclim/raster_manipulation.html#MadaclimCollection.populate_from_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimCollection.populate_from_csv" title="Permalink to this definition"></a></dt>
<dd><p>Creates a new MadaclimCollection from a CSV file.</p>
<p>Each row of the CSV file should represent a MadaclimPoint. The CSV file
must have columns that correspond to the arguments of the MadaclimPoint
constructor. If a ‘source_crs’ column is not provided, the method uses
the default CRS value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>csv_file</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>pathlib.Path</em><em>]</em>) – The path to the CSV file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new MadaclimCollection instance with MadaclimPoint
objects created from the rows of the CSV file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection" title="py_madaclim.raster_manipulation.MadaclimCollection">MadaclimCollection</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If ‘csv_file’ is not a str or pathlib.Path object.</p></li>
<li><p><strong>FileNotFoundError</strong> – If the file specified by ‘csv_file’ does not exist.</p></li>
<li><p><strong>ValueError</strong> – If the CSV file headers are missing required arguments for</p></li>
<li><p><strong>constructing MadaclimPoint objects.</strong> – </p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>CSV requirements for construction</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># header must contain req. positional args for MadaclimPoint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># When no source_crs header is found, defaults to EPSG:4326</span>
<span class="go">specimen_id,latitude,longitude</span>
<span class="go">sample_A,-18.9333,48.2</span>
<span class="go">sample_B,-16.295741,46.826763</span>
<span class="go">sample_C,-21.223,47.5204</span>
<span class="go">sample_D,-17.9869,49.2966</span>
<span class="go">sample_E,-21.5166,47.4833</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span> <span class="o">=</span> <span class="n">MadaclimCollection</span><span class="o">.</span><span class="n">populate_from_csv</span><span class="p">(</span><span class="s2">&quot;some_samples.csv&quot;</span><span class="p">)</span>
<span class="go">Warning! No source_crs column in the csv. Using the default value of EPSG:4326...</span>
<span class="go">Created new MadaclimCollection with 5 samples.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Can accept other non-required data for MadaclimPoint instantiation</span>
<span class="go">specimen_id,latitude,longitude,source_crs,has_sequencing,specie</span>
<span class="go">sample_F,-19.9333,47.2,4326,True,bojeri</span>
<span class="go">sample_G,-18.295741,45.826763,4326,False,periwinkle</span>
<span class="go">sample_H,-21.223,44.5204,4326,False,spectabilis</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">other_collection</span> <span class="o">=</span> <span class="n">MadaclimCollection</span><span class="o">.</span><span class="n">populate_from_csv</span><span class="p">(</span><span class="s2">&quot;other_samples.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimCollection.populate_from_df">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">populate_from_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection" title="py_madaclim.raster_manipulation.MadaclimCollection"><span class="pre">MadaclimCollection</span></a></span></span><a class="reference internal" href="_modules/py_madaclim/raster_manipulation.html#MadaclimCollection.populate_from_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimCollection.populate_from_df" title="Permalink to this definition"></a></dt>
<dd><p>Class method to populate a MadaclimCollection from a pandas DataFrame.</p>
<p>This method takes a DataFrame where each row represents a MadaclimPoint and its
attributes. If the ‘source_crs’ column is not provided in the DataFrame, the default
CRS will be used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pd.DataFrame</em>) – DataFrame where each row represents a MadaclimPoint. Expected
columns are the same as the required arguments for the
MadaclimPoint constructor.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A new MadaclimCollection instance populated with MadaclimPoints</dt><dd><p>created from the DataFrame.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimCollection" title="py_madaclim.raster_manipulation.MadaclimCollection">MadaclimCollection</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If ‘df’ is not a pd.DataFrame.</p></li>
<li><p><strong>ValueError</strong> – If the DataFrame is missing any of the required arguments to construct
    a MadaclimPoint.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Respect requirements for MadaclimPoint construction in df columns</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample_df</span>
<span class="go">specimen_id    latitude  longitude</span>
<span class="go">0    sample_W  -16.295741  46.826763</span>
<span class="go">1    sample_X    -17.9869    49.2966</span>
<span class="go">2    sample_Y    -18.9333    48.2166</span>
<span class="go">3    sample_Z      -13.28      49.95</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span> <span class="o">=</span> <span class="n">MadaclimCollection</span><span class="o">.</span><span class="n">populate_from_df</span><span class="p">(</span><span class="n">sample_df</span><span class="p">)</span>
<span class="go">Warning! No source_crs column in the df. Using the default value of EPSG:4326...</span>
<span class="go">Creating MadaclimPoint(specimen_id=sample_W...)</span>
<span class="go">Creating MadaclimPoint(specimen_id=sample_X...)</span>
<span class="go">Creating MadaclimPoint(specimen_id=sample_Y...)</span>
<span class="go">Creating MadaclimPoint(specimen_id=sample_Z...)</span>
<span class="go">Created new MadaclimCollection with 4 samples.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimCollection.remove_points">
<span class="sig-name descname"><span class="pre">remove_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">madaclim_points</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint" title="py_madaclim.raster_manipulation.MadaclimPoint"><span class="pre">MadaclimPoint</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint" title="py_madaclim.raster_manipulation.MadaclimPoint"><span class="pre">MadaclimPoint</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/py_madaclim/raster_manipulation.html#MadaclimCollection.remove_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimCollection.remove_points" title="Permalink to this definition"></a></dt>
<dd><p>Removes MadaclimPoint objects from the MadaclimCollection based on specified criteria.</p>
<p>This method allows removing MadaclimPoint objects from the collection by providing either
MadaclimPoint instance(s), index/indices, or by clearing the whole collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>madaclim_points</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint" title="py_madaclim.raster_manipulation.MadaclimPoint"><em>MadaclimPoint</em></a><em>, </em><em>List</em><em>[</em><a class="reference internal" href="#py_madaclim.raster_manipulation.MadaclimPoint" title="py_madaclim.raster_manipulation.MadaclimPoint"><em>MadaclimPoint</em></a><em>]</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – A single MadaclimPoint
object or a list of MadaclimPoint objects to be removed from the collection. Defaults to None.</p></li>
<li><p><strong>indices</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><em>int</em><em>, </em><em>List</em><em>[</em><em>int</em><em>]</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – A single index or a list of indices of the MadaclimPoint
objects to be removed from the collection. Defaults to None.</p></li>
<li><p><strong>clear</strong> (<em>bool</em><em>, </em><em>optional</em>) – If set to True, removes all MadaclimPoint objects from the collection. When using
this option, ‘madaclim_points’ and ‘indices’ must not be provided. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If the MadaclimCollection is empty or if none of the input options are provided.</p></li>
<li><p><strong>ValueError</strong> – If ‘madaclim_points’ and ‘indices’ are both provided.</p></li>
<li><p><strong>ValueError</strong> – If ‘clear’ is set to True and either ‘madaclim_points’ or ‘indices’ are provided.</p></li>
<li><p><strong>TypeError</strong> – If an invalid type is provided for ‘madaclim_points’ or ‘indices’.</p></li>
<li><p><strong>ValueError</strong> – If a provided MadaclimPoint object is not in the collection or if an index is out of bounds.</p></li>
<li><p><strong>IndexError</strong> – If an index is out of range.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Remove points by passing in the ‘MadaclimPoint’ instances, the index or the ‘specimen_id’</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sample_W</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">all_points</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span><span class="o">.</span><span class="n">remove_points</span><span class="p">(</span><span class="n">madaclim_points</span><span class="o">=</span><span class="n">sample_W</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Using the position index of the instance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span><span class="o">.</span><span class="n">remove_points</span><span class="p">(</span><span class="n">indices</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>    <span class="c1"># Removes last point of the collection</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Using the specimen.id attribute</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span><span class="o">.</span><span class="n">remove_points</span><span class="p">(</span><span class="n">madaclim_points</span><span class="o">=</span><span class="s2">&quot;sample_Y&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Remove multiple points</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># A list of str or MadaclimPoint or mixed types are accepted for the madaclim_points argument.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample_w</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">all_points</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_remove</span> <span class="o">=</span> <span class="p">[</span><span class="n">sample_w</span><span class="p">,</span> <span class="s2">&quot;sample_X&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span><span class="o">.</span><span class="n">remove_points</span><span class="p">(</span><span class="n">madaclim_points</span><span class="o">=</span><span class="n">to_remove</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Or pass in a list of indices to the indices argument.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span><span class="o">.</span><span class="n">remove_points</span><span class="p">(</span><span class="n">indices</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>    <span class="c1"># Remove first and last point</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Finaly we can clear the collection of all instances.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span><span class="o">.</span><span class="n">remove_points</span><span class="p">(</span><span class="n">clear</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">No MadaclimPoint inside the collection.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimCollection.sample_from_rasters">
<span class="sig-name descname"><span class="pre">sample_from_rasters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clim_raster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_raster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layers_to_sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layer_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/py_madaclim/raster_manipulation.html#MadaclimCollection.sample_from_rasters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimCollection.sample_from_rasters" title="Permalink to this definition"></a></dt>
<dd><p>Samples geoclimatic data from raster files for specified layers at the location
of each point belonging to the MadaclimCollection’s instance.</p>
<p>Calling this method will also update the <cite>sampled_layers</cite> attributes with the data
extracted from the layers_to_sample for every point in the collection.
If sampled data containing ‘nodata’ values, the <cite>nodata_layers</cite> attribute
will be updated with the name of the layers accordingly.
Also, the <cite>gdf</cite> attribute GeoDataFrame will be updated with the <cite>sampled_layers</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clim_raster_path</strong> (<em>pathlib.Path</em>) – Path to the climate raster file.</p></li>
<li><p><strong>env_raster_path</strong> (<em>pathlib.Path</em>) – Path to the environment raster file.</p></li>
<li><p><strong>layers_to_sample</strong> (<em>Union</em><em>[</em><em>int</em><em>, </em><em>str</em><em>, </em><em>List</em><em>[</em><em>Union</em><em>[</em><em>int</em><em>, </em><em>str</em><em>]</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – The layer number(s) to sample from the raster files.
Can be a single int, a single string in the format ‘layer_&lt;num&gt;’, or a list of ints or such strings. Defaults to ‘all’.</p></li>
<li><p><strong>layer_info</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to use descriptive labels for the returned dictionary keys. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If the MadaclimCollection doesn’t contain any MadaclimPoints.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method also updates the ‘sampled_layers’ and ‘nodata_layers’ attributes of the MadaclimCollection instance.</p>
<p class="rubric">Examples</p>
<p>Sample the value for each point in the collection according to their location</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">py_madaclim.geoclim.raster_manipulation</span> <span class="kn">import</span> <span class="n">MadaclimPoint</span><span class="p">,</span> <span class="n">MadaclimCollection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">specimen_1</span> <span class="o">=</span> <span class="n">MadaclimPoint</span><span class="p">(</span><span class="n">specimen_id</span><span class="o">=</span><span class="s2">&quot;spe1_aren&quot;</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=-</span><span class="mf">18.9333</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="mf">48.2</span><span class="p">,</span> <span class="n">genus</span><span class="o">=</span><span class="s2">&quot;Coffea&quot;</span><span class="p">,</span> <span class="n">species</span><span class="o">=</span><span class="s2">&quot;arenesiana&quot;</span><span class="p">,</span> <span class="n">has_sequencing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">specimen_2</span> <span class="o">=</span> <span class="n">MadaclimPoint</span><span class="p">(</span><span class="n">specimen_id</span><span class="o">=</span><span class="s2">&quot;spe2_humb&quot;</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=-</span><span class="mf">12.716667</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="mf">45.066667</span><span class="p">,</span> <span class="n">source_crs</span><span class="o">=</span><span class="mi">4326</span><span class="p">,</span> <span class="n">genus</span><span class="o">=</span><span class="s2">&quot;Coffea&quot;</span><span class="p">,</span> <span class="n">species</span><span class="o">=</span><span class="s2">&quot;humblotiana&quot;</span><span class="p">,</span> <span class="n">has_sequencing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span> <span class="o">=</span> <span class="n">MadaclimCollection</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span><span class="o">.</span><span class="n">add_points</span><span class="p">([</span><span class="n">specimen_1</span><span class="p">,</span> <span class="n">specimen_2</span><span class="p">])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">py_madaclim.info</span> <span class="kn">import</span> <span class="n">MadaclimLayers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">madaclim_info</span> <span class="o">=</span> <span class="n">MadaclimLayers</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bioclim_labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">label</span> <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">madaclim_info</span><span class="o">.</span><span class="n">get_layers_labels</span><span class="p">(</span><span class="n">as_descriptive_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="s2">&quot;bio&quot;</span> <span class="ow">in</span> <span class="n">label</span><span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Validating the rasters</span>
<span class="go">mada_rasters = MadaclimRasters(clim_raster=&quot;madaclim_current.tif&quot;, env_raster=&quot;madaclim_enviro.tif&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span><span class="o">.</span><span class="n">sample_from_rasters</span><span class="p">(</span>
<span class="go">        mada_rasters.clim_raster,</span>
<span class="go">        mada_rasters.env_raster,</span>
<span class="go">        layers_to_sample=bioclim_labels</span>
<span class="go">    )</span>
</pre></div>
</div>
<p>Attribute state updating</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span>    <span class="c1"># sampled status updated</span>
<span class="go">MadaclimCollection = [</span>
<span class="go">        MadaclimPoint(specimen_id=spe1_aren, mada_geom_point=POINT (837072.9150244407 7903496.320897499),sampled=True),</span>
<span class="go">        MadaclimPoint(specimen_id=spe2_humb, mada_geom_point=POINT (507237.57495924993 8594195.741515966),sampled=True)</span>
<span class="go">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Results also stored in the `sampled_layers` attribute</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span><span class="o">.</span><span class="n">sampled_layers</span><span class="p">[</span><span class="s2">&quot;spe2_humb&quot;</span><span class="p">][</span><span class="s2">&quot;layer_55&quot;</span><span class="p">]</span>
<span class="go">66</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># layers_to_sample also accepts a single layer, or multiple layers as the output from the `get_layers_labels` method in MadaclimLayers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span><span class="o">.</span><span class="n">sample_from_rasters</span><span class="p">(</span><span class="mi">37</span><span class="p">)</span>
<span class="go">{&#39;spe1_aren&#39;: {&#39;layer_37&#39;: 196}, &#39;spe2_humb&#39;: {&#39;layer_37&#39;: 238}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimCollection.sampled_layers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sampled_layers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimCollection.sampled_layers" title="Permalink to this definition"></a></dt>
<dd><p>Get the sampled_layers attribute of the collection generated from the <cite>sampled_from_rasters</cite> method.</p>
<p>This attribute is a nested dictionary. The outer dictionary uses the MadaclimPoint.specimen_id as keys.
The corresponding value for each key is another dictionary, which uses layer_names as keys and sampled values from rasters as values.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>A dictionary with MadaclimPoint.specimen_id as keys and a dictionary of layer_names (str) and sampled values (int) as values.</dt><dd><p>None if Collection has not been sampled yet.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Optional[Dict[str, Dict[str, int]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimCollection.sanitize_attr_name">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sanitize_attr_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attribute</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_madaclim/raster_manipulation.html#MadaclimCollection.sanitize_attr_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimCollection.sanitize_attr_name" title="Permalink to this definition"></a></dt>
<dd><p>Strips incompatible char from attribute names</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>attribute</strong> (<em>str</em>) – The attribute header from the csv file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The compatible attribute name.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_madaclim.raster_manipulation.</span></span><span class="sig-name descname"><span class="pre">MadaclimPoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">specimen_id:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">longitude:</span> <span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latitude:</span> <span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_crs:</span> <span class="pre">~pyproj.crs.crs.CRS</span> <span class="pre">=</span> <span class="pre">&lt;Geographic</span> <span class="pre">2D</span> <span class="pre">CRS:</span> <span class="pre">EPSG:4326&gt;</span> <span class="pre">Name:</span> <span class="pre">WGS</span> <span class="pre">84</span> <span class="pre">Axis</span> <span class="pre">Info</span> <span class="pre">[ellipsoidal]:</span> <span class="pre">-</span> <span class="pre">Lat[north]:</span> <span class="pre">Geodetic</span> <span class="pre">latitude</span> <span class="pre">(degree)</span> <span class="pre">-</span> <span class="pre">Lon[east]:</span> <span class="pre">Geodetic</span> <span class="pre">longitude</span> <span class="pre">(degree)</span> <span class="pre">Area</span> <span class="pre">of</span> <span class="pre">Use:</span> <span class="pre">-</span> <span class="pre">name:</span> <span class="pre">World.</span> <span class="pre">-</span> <span class="pre">bounds:</span> <span class="pre">(-180.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">-90.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">180.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">90.0)</span> <span class="pre">Datum:</span> <span class="pre">World</span> <span class="pre">Geodetic</span> <span class="pre">System</span> <span class="pre">1984</span> <span class="pre">ensemble</span> <span class="pre">-</span> <span class="pre">Ellipsoid:</span> <span class="pre">WGS</span> <span class="pre">84</span> <span class="pre">-</span> <span class="pre">Prime</span> <span class="pre">Meridian:</span> <span class="pre">Greenwich</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_madaclim/raster_manipulation.html#MadaclimPoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class representing a specimen as a geographic point with a specific coordinate reference system (CRS)
and additional attributes. The class provides methods for validating the point’s coordinates
and CRS, as well as sampling values from climate and environmental rasters of the Madaclim database.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.specimen_id">
<span class="sig-name descname"><span class="pre">specimen_id</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.specimen_id" title="Permalink to this definition"></a></dt>
<dd><p>An identifier for the point.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.latitude">
<span class="sig-name descname"><span class="pre">latitude</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.latitude" title="Permalink to this definition"></a></dt>
<dd><p>The latitude of the point.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.longitude">
<span class="sig-name descname"><span class="pre">longitude</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.longitude" title="Permalink to this definition"></a></dt>
<dd><p>The longitude of the point.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.source_crs">
<span class="sig-name descname"><span class="pre">source_crs</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.source_crs" title="Permalink to this definition"></a></dt>
<dd><p>The coordinate reference system of the point.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyproj.crs.crs.CRS</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.mada_geom_point">
<span class="sig-name descname"><span class="pre">mada_geom_point</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.mada_geom_point" title="Permalink to this definition"></a></dt>
<dd><p>A Shapely Point object representing the point projected
in the Madaclim rasters’ CRS.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>shapely.geometry.point.Point</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.sampled_layers">
<span class="sig-name descname"><span class="pre">sampled_layers</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.sampled_layers" title="Permalink to this definition"></a></dt>
<dd><p>A dictionary containing the layers labels as keys
and their values from the sampled raster at the Point’s position as int.
None if data has not been sampled yet.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[Dict[str, int]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.nodata_layers">
<span class="sig-name descname"><span class="pre">nodata_layers</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.nodata_layers" title="Permalink to this definition"></a></dt>
<dd><p>A list containing the layers labels.
None if data has not been sampled yet or no layers sampled containined <cite>nodata</cite> values.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[List[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.is_categorical_encoded">
<span class="sig-name descname"><span class="pre">is_categorical_encoded</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.is_categorical_encoded" title="Permalink to this definition"></a></dt>
<dd><p>The state of the <cite>binary_encode_categorical</cite> method. If True, the method has been called
and a new set of binary features has been generated.
Otherwise, either the layers have not been sampled or the categorical features not been encoded.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.encoded_categ">
<span class="sig-name descname"><span class="pre">encoded_categ</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.encoded_categ" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.encoded_categ_layers">
<span class="sig-name descname"><span class="pre">encoded_categ_layers</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.encoded_categ_layers" title="Permalink to this definition"></a></dt>
<dd><p>A dictionary containing the set of
binary encoded categorical features.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[Dict[str, int]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.gdf">
<span class="sig-name descname"><span class="pre">gdf</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.gdf" title="Permalink to this definition"></a></dt>
<dd><p>A Geopandas GeoDataFrame generated from instance attributes
and mada_geom_point geometry. Updates along any changes to the instance’s attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.base_attr">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">base_attr</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.base_attr" title="Permalink to this definition"></a></dt>
<dd><p>Get the base attributes when constructing the instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary containing the base attributes names as keys and their values as values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.binary_encode_categorical">
<span class="sig-name descname"><span class="pre">binary_encode_categorical</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/py_madaclim/raster_manipulation.html#MadaclimPoint.binary_encode_categorical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.binary_encode_categorical" title="Permalink to this definition"></a></dt>
<dd><p>Binary encodes the categorical layers contained in the <cite>sampled_layers</cite> attribute.</p>
<p>This function performs binary encoding of categorical layers
found in the raster data. It uses the <cite>MadaclimLayers</cite> object
to get information about possible categorical layers. If no
categorical layers are found in the data, a ValueError is raised.
After the encoding, the function updates the respective instance
attributes for the categorical encoding status, the encoded
layers and the gdf replacing the categorical columns by the binary encoded features.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> – If no categorical layers are found in the raster</p></li>
<li><p><strong>data</strong><strong> or </strong><strong>if the raster data has not been sampled yet.</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.encoded_categ_labels">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">encoded_categ_labels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.encoded_categ_labels" title="Permalink to this definition"></a></dt>
<dd><p>Get the labels from the binary encoded categorical layers of the instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>A list containing the set of the labels from the binary encoding</dt><dd><p>of categorical features. None if the categorical layers have not been encoded yet.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Optional[List[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id6">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">encoded_categ_layers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id6" title="Permalink to this definition"></a></dt>
<dd><p>Get the binary encoded categorical layers values.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>A dictionary containing the set of binary encoded categorical features.</dt><dd><p>Keys are contain the layer number (or more description) and the categorical feature.
Values are the binary encoded value for that given category.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Optional[Dict[str, int]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id7">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gdf</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">GeoDataFrame</span></em><a class="headerlink" href="#id7" title="Permalink to this definition"></a></dt>
<dd><p>Get the GeoPandas DataFrame using <cite>mada_geom_point</cite> as geometry.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Geopandas GeoDataFrame generated from instance attributes and Point geometry.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.get_args_names">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_args_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/py_madaclim/raster_manipulation.html#MadaclimPoint.get_args_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.get_args_names" title="Permalink to this definition"></a></dt>
<dd><p>Gets the names of the required and default arguments of the MadaclimPoint constructor.</p>
<p>This method uses the inspect module to introspect the MadaclimPoint constructor and extract the names of its arguments.
It then separates these into required arguments (those that don’t have default values) and default arguments (those that do).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>A tuple containing two lists:</dt><dd><ul class="simple">
<li><p>The first list contains the names of the required arguments.</p></li>
<li><p>The second list contains the names of the default arguments.</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[list, list]</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>‘self’ is excluded from the returned lists.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.get_default_source_crs">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_default_source_crs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">as_epsg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">CRS</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span></span></span><a class="reference internal" href="_modules/py_madaclim/raster_manipulation.html#MadaclimPoint.get_default_source_crs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.get_default_source_crs" title="Permalink to this definition"></a></dt>
<dd><p>Extracts the default value of the source_crs attribute. By default, it will return the crs as the EPSG code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>as_epsg</strong> (<em>bool</em><em>, </em><em>optional</em>) – The EPSG code of the source_CRS. Defaults to True.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The default value for the source_crs attribute. If true, source_crs is returned as the EPSG code of the crs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[pyproj.crs.crs.CRS, int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id8">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_categorical_encoded</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#id8" title="Permalink to this definition"></a></dt>
<dd><p>Get the state of the binary encoding of the categorical layers.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>The state of the <cite>binary_encode_categorical</cite> method. If True, the method has been called and a new set of binary features has been generated.</dt><dd><p>Otherwise, either the layers have not been sampled or the categorical features have not been encoded.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id9">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">latitude</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#id9" title="Permalink to this definition"></a></dt>
<dd><p>Gets or sets the latitude attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em>) – The latitude value of the point.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The current latitude value of the point.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id10">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">longitude</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#id10" title="Permalink to this definition"></a></dt>
<dd><p>Gets or sets the longitude attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em>) – The longitude value of the point.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The current longitude value of the point.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id11">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mada_geom_point</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Point</span></em><a class="headerlink" href="#id11" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id12">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nodata_layers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id12" title="Permalink to this definition"></a></dt>
<dd><p>Get the layers labels containing <cite>nodata</cite> values when calling the`sampled_from_rasters` method.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>A list containing the layers labels (either layer_&lt;num&gt; or more descriptive).</dt><dd><p>Returns None if data has not been sampled yet or no layers sampled containined <cite>nodata</cite> values.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Optional[List[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.plot_on_layer">
<span class="sig-name descname"><span class="pre">plot_on_layer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/py_madaclim/raster_manipulation.html#MadaclimPoint.plot_on_layer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.plot_on_layer" title="Permalink to this definition"></a></dt>
<dd><p>Plot a layer as a raster map and distribution plot with a focus on the MadaclimPoint object.</p>
<p>Based on the Madaclim’s CRS, the MadaclimPoint’s geometry (<cite>mada_geom_point</cite>) is plotted
on the raster map and the sampled value is displayed against a distribution of all
possible values for that layer in Madaclim db. Pass addition kwargs to customize each
subplots (See <a href="#id13"><span class="problematic" id="id14">**</span></a>kwargs, _LayerPlotter and _LayerConfig for more details).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layer</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>int</em><em>]</em>) – Layer to plot. Accepts layer numbers as integers, or layer labels in
descriptive or <cite>layer_&lt;num&gt;</cite> format.</p></li>
<li><p><strong>**kwargs</strong> – Additional arguments to customize the subplots, imshow, colorbar, histplot and Point objects from matplotlib.
Use “subplots_&lt;arg&gt;”, “imshow_&lt;arg&gt;”, “cax_&lt;arg&gt;”, and “histplot_&lt;arg&gt;” formats to customize corresponding
the base Raster and histogram plots as matplotlib/sns arguments.
Use “point_&lt;arg&gt;” to customize the Point objects on the raster.
Use “vline_&lt;arg&gt;” to customize the vertical line on the distribution plot.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> – If the specified layer to plot is not has not been sampled yet.</p></li>
<li><p><strong>ValueError</strong> – If the layer label cannot be found within the sampled layers.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimPoint.sample_from_rasters">
<span class="sig-name descname"><span class="pre">sample_from_rasters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clim_raster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_raster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layers_to_sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layer_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/py_madaclim/raster_manipulation.html#MadaclimPoint.sample_from_rasters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimPoint.sample_from_rasters" title="Permalink to this definition"></a></dt>
<dd><p>Samples geoclimatic data from raster files for specified layers at the location of the instances’s
lat/lon coordinates from the <cite>mada_geom_point</cite> attribute.</p>
<p>Calling this method will also update the <cite>sampled_layers</cite> attributes with the data
extracted from the layers_to_sample. If sampled data containing ‘nodata’ values,
the <cite>nodata_layers</cite> attribute will be updated with the name of the layers accordingly.
Also, the <cite>gdf</cite> attribute GeoDataFrame will be updated with the <cite>sampled_layers</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clim_raster_path</strong> (<em>pathlib.Path</em>) – Path to the climate raster file.</p></li>
<li><p><strong>env_raster_path</strong> (<em>pathlib.Path</em>) – Path to the environment raster file.</p></li>
<li><p><strong>layers_to_sample</strong> (<em>Union</em><em>[</em><em>int</em><em>, </em><em>str</em><em>, </em><em>List</em><em>[</em><em>Union</em><em>[</em><em>int</em><em>, </em><em>str</em><em>]</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – The layer number(s) to sample from the raster files.
Can be a single int, a single string in the format ‘layer_&lt;num&gt;’, or the descriptive label
or a list of ints or such strings. Defaults to ‘all’.</p></li>
<li><p><strong>layer_info</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to use descriptive labels for the returned dictionary keys. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If the layers_to_sample is not valid, or if the <cite>mada_geom_point</cite> attribute is not a Point object.</p></li>
<li><p><strong>ValueError</strong> – If the layer_number is out of range or if the <cite>mada_geom_point</cite> object is empty.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Sample a set of layers
&gt;&gt;&gt; from py_madaclim.info import MadaclimLayers
&gt;&gt;&gt; madaclim_info = MadaclimLayers()
&gt;&gt;&gt; bioclim_labels = [label for label in madaclim_info.get_layers_labels(as_descriptive_labels=True) if “bio” in label]</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">specimen_1</span> <span class="o">=</span> <span class="n">MadaclimPoint</span><span class="p">(</span><span class="n">specimen_id</span><span class="o">=</span><span class="s2">&quot;spe1_aren&quot;</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=-</span><span class="mf">18.9333</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="mf">48.2</span><span class="p">,</span> <span class="n">genus</span><span class="o">=</span><span class="s2">&quot;Coffea&quot;</span><span class="p">,</span> <span class="n">species</span><span class="o">=</span><span class="s2">&quot;arenesiana&quot;</span><span class="p">,</span> <span class="n">has_sequencing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spe1_bioclim</span> <span class="o">=</span> <span class="n">specimen_1</span><span class="o">.</span><span class="n">sample_from_rasters</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">clim_raster</span><span class="o">=</span><span class="s2">&quot;madaclim_current.tif&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">env_raster</span><span class="o">=</span><span class="s2">&quot;madaclim_enviro.tif&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">layers_to_sample</span><span class="o">=</span><span class="n">bioclim_labels</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spe1_bioclim</span><span class="p">[</span><span class="s2">&quot;layer_37&quot;</span><span class="p">]</span>
<span class="go">196</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># layer_info key as more descriptive and informative</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spe1_bioclim</span> <span class="o">=</span> <span class="n">specimen_1</span><span class="o">.</span><span class="n">sample_from_rasters</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">clim_raster</span><span class="o">=</span><span class="s2">&quot;madaclim_current.tif&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">env_raster</span><span class="o">=</span><span class="s2">&quot;madaclim_enviro.tif&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">layers_to_sample</span><span class="o">=</span><span class="n">bioclim_labels</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">layer_info</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bio1_label</span> <span class="o">=</span> <span class="n">bioclim_labels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;clim_37_bio1 (Annual mean temperature)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spe1_bioclim</span><span class="p">[</span><span class="n">bio1_label</span><span class="p">]</span>
<span class="go">196</span>
</pre></div>
</div>
<p>Warning message for NaN in the data extracted
&gt;&gt;&gt; # We can easily access the nodata layers (still sampled with the method regardless)
&gt;&gt;&gt; spe2_all_layers, spe2_nodata_layers = specimen_2.sample_from_rasters(
…     clim_raster=”madaclim_current.tif”,
…     env_raster=”madaclim_enviro.tif”,
…     layer_info=True,
…     return_nodata_layers=True
… )
&gt;&gt;&gt; len(spe2_nodata_layers)
5
&gt;&gt;&gt; spe2_nodata_layers[0]    # Example of a categorical feature description with raster-value/description associations
‘env_75_geology (1=Alluvial_&amp;_Lake_deposits, 2=Unconsolidated_Sands, 4=Mangrove_Swamp, 5=Tertiary_Limestones_+_Marls_&amp;_Chalks, 6=Sandstones, 7=Mesozoic_Limestones_+_Marls_(inc._”Tsingy”), 9=Lavas_(including_Basalts_&amp;_Gabbros), 10=Basement_Rocks_(Ign_&amp;_Met), 11=Ultrabasics, 12=Quartzites, 13=Marble_(Cipolin))’</p>
<p>Updated attributes post-sampling
&gt;&gt;&gt; specimen_2.sample_from_rasters(
…     clim_raster=”madaclim_current.tif”,
…     env_raster=”madaclim_enviro.tif”,
…     layers_to_sample=[37, 75]
… )
MadaclimPoint(</p>
<blockquote>
<div><p>specimen_id = spe2_humb,
source_crs = 4326,
latitude = -12.716667,
longitude = 45.066667,
mada_geom_point = POINT (507237.57495924993 8594195.741515966),
len(sampled_layers) = 2 layer(s),
len(nodata_layers) = 1 layer(s),
is_categorical_encoded = False
genus = Coffea,
species = humblotiana,
has_sequencing = True,
gdf.shape = (1, 10)</p>
</div></blockquote>
<p>)
&gt;&gt;&gt; specimen_2.sampled_layers
{‘layer_37’: 238, ‘layer_75’: -32768}
&gt;&gt;&gt; specimen_2.nodata_layers
[‘layer_75’]</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id15">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sampled_layers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id15" title="Permalink to this definition"></a></dt>
<dd><p>Get the instance’s data obtained from the <cite>sampled_from_rasters</cite> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>A dictionary containing the layers labels as keys and their values as int.</dt><dd><p>Returns None if data has not been sampled yet.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Optional[Dict[str, int]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id16">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">source_crs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">CRS</span></em><a class="headerlink" href="#id16" title="Permalink to this definition"></a></dt>
<dd><p>Get or sets the source_crs attribute.</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>value (pyproj.crs.CRS): The coordinate reference system for the point.</p>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The coordinate reference system of the point.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pyproj.crs.CRS</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id17">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">specimen_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#id17" title="Permalink to this definition"></a></dt>
<dd><p>Get or sets the specimen_id attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>str</em>) – The new identifier for the MadaclimPoint.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The identifier for the MadaclimPoint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimRasters">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_madaclim.raster_manipulation.</span></span><span class="sig-name descname"><span class="pre">MadaclimRasters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clim_raster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_raster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_madaclim/raster_manipulation.html#MadaclimRasters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimRasters" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles operations on Madaclim climate and environmental raster files.
Also provides a method to visualize the raster layers (map) and distribution of the raster values.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimRasters.clim_raster">
<span class="sig-name descname"><span class="pre">clim_raster</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimRasters.clim_raster" title="Permalink to this definition"></a></dt>
<dd><p>Path to the climate raster file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pathlib.Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimRasters.clim_crs">
<span class="sig-name descname"><span class="pre">clim_crs</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimRasters.clim_crs" title="Permalink to this definition"></a></dt>
<dd><p>The CRS derived of the climate raster file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyproj.crs.crs.CRS</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimRasters.clim_nodata_val">
<span class="sig-name descname"><span class="pre">clim_nodata_val</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimRasters.clim_nodata_val" title="Permalink to this definition"></a></dt>
<dd><p>The nodata value from the climate raster file</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimRasters.clim_bounds">
<span class="sig-name descname"><span class="pre">clim_bounds</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimRasters.clim_bounds" title="Permalink to this definition"></a></dt>
<dd><p>The bounds of the climate raster in order of (left, bottom, right, top)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimRasters.env_raster">
<span class="sig-name descname"><span class="pre">env_raster</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimRasters.env_raster" title="Permalink to this definition"></a></dt>
<dd><p>Path to the environmental raster file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pathlib.Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimRasters.env_crs">
<span class="sig-name descname"><span class="pre">env_crs</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimRasters.env_crs" title="Permalink to this definition"></a></dt>
<dd><p>The CRS derived of the environmental raster file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyproj.crs.crs.CRS</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimRasters.env_nodata_val">
<span class="sig-name descname"><span class="pre">env_nodata_val</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimRasters.env_nodata_val" title="Permalink to this definition"></a></dt>
<dd><p>The nodata value from the environmental raster file</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimRasters.env_bounds">
<span class="sig-name descname"><span class="pre">env_bounds</span></span><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimRasters.env_bounds" title="Permalink to this definition"></a></dt>
<dd><p>The bounds of the environmental raster in order of (left, bottom, right, top)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id18">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clim_bounds</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#id18" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the bounds of the climate raster.</p>
<p>This property opens the raster file and retrieves bounds values (left, bottom, right, top) from the raster.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The bounds values in order (left, bottom, right, top)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id19">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clim_crs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">CRS</span></em><a class="headerlink" href="#id19" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the Coordinate Reference System (CRS) from the Madaclim climate raster.</p>
<p>This property opens the raster file and retrieves the CRS in EPSG format. The EPSG code is used to
create and return a pyproj CRS object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The CRS derived of the climate raster file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pyproj.crs.crs.CRS</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id20">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clim_nodata_val</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#id20" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the nodata value from the Madaclim climate raster.</p>
<p>This property opens the raster file and retrieves nodata value from the raster.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The nodata value from the climate raster file</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id21">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clim_raster</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Path</span></em><a class="headerlink" href="#id21" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves or sets the climate raster file path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>pathlib.Path</em>) – The new climate raster file path.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The climate raster file path.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pathlib.Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id22">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">env_bounds</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#id22" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the bounds of the climate raster.</p>
<p>This property opens the raster file and retrieves bounds values (left, bottom, right, top) from the raster.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The bounds values in order (left, bottom, right, top)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id23">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">env_crs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">CRS</span></em><a class="headerlink" href="#id23" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the Coordinate Reference System (CRS) from the Madaclim environmental raster.</p>
<p>This property opens the raster file and retrieves the CRS in EPSG format. The EPSG code is used to
create and return a pyproj CRS object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The CRS derived of the environmental raster file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pyproj.crs.crs.CRS</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id24">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">env_nodata_val</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#id24" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the nodata value from the Madaclim environmental raster.</p>
<p>This property opens the raster file and retrieves nodata value from the raster.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The nodata value from the environmental raster file</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id25">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">env_raster</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Path</span></em><a class="headerlink" href="#id25" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves or sets the environmental raster file path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>pathlib.Path</em>) – The new environmental raster file path.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The environmental raster file path.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pathlib.Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_madaclim.raster_manipulation.MadaclimRasters.plot_layer">
<span class="sig-name descname"><span class="pre">plot_layer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Figure</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Axes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/py_madaclim/raster_manipulation.html#MadaclimRasters.plot_layer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_madaclim.raster_manipulation.MadaclimRasters.plot_layer" title="Permalink to this definition"></a></dt>
<dd><p>Method to plot a specific layer from the Madagascan climate/environmental raster datasets. The layer
is displayed as a raster map and its distribution is plotted in a histogram.</p>
<p>It accepts layer labels in the following formats: <cite>layer_&lt;num&gt;</cite> (e.g. “layer_1”) and <cite>&lt;descriptive_layer_label&gt;</cite>
(e.g. “annual_mean_temperature”). Alternatively, the layer number can be supplied directly as an integer.</p>
<p>Depending on whether the layer is categorical or continuous, the visualization will be different. For categorical
layers, it will display a map using different colors for each category and a legend mapping categories to colors.
For continuous layers, it will display a color gradient map with a color bar.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layer</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>int</em><em>]</em>) – Layer to plot. Accepts layer numbers as integers, or layer labels in
descriptive or <cite>layer_&lt;num&gt;</cite> format.</p></li>
<li><p><strong>**kwargs</strong> – Additional arguments to customize the subplots, imshow, colorbar and histplot from matplotlib.
Use “subplots_&lt;arg&gt;”, “imshow_&lt;arg&gt;”, “cax_&lt;arg&gt;”, and “histplot_&lt;arg&gt;” formats to customize corresponding
matplotlib/sns arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>The top-level container for all plot elements.
axes (List[matplotlib.axes.Axes]): An array containing the Axes objects</p>
<blockquote>
<div><p>of the subplots.</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>fig (matplotlib.figure.Figure)</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If ‘layer’ is not a str or an int.</p></li>
<li><p><strong>ValueError</strong> – If ‘layer’ is not found within the range of layers.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method returns the fig and axes object for further customization when used by other classes.
It uses the private _PlotConfig and _LayerPlotter utility classes for the checks and vizualisation.</p>
</div>
<p class="rubric">Example</p>
<p>Visualization of the raster maps</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">py_madaclim.info</span> <span class="kn">import</span> <span class="n">MadaclimLayers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Extract environmental layers labels</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span> <span class="o">=</span> <span class="n">MadaclimLayers</span><span class="p">(</span><span class="n">clim_raster</span><span class="o">=</span><span class="s2">&quot;madaclim_current.tif&quot;</span><span class="p">,</span> <span class="n">env_raster</span><span class="o">=</span><span class="s2">&quot;madaclim_enviro.tif&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">env_labels</span> <span class="o">=</span> <span class="n">mada_info</span><span class="o">.</span><span class="n">get_layers_labels</span><span class="p">(</span><span class="s2">&quot;env&quot;</span><span class="p">,</span> <span class="n">as_descriptive_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Default visualization of the raster map</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">py_madaclim.raster_manipulation</span> <span class="kn">import</span> <span class="n">MadaclimRasters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mada_rasters</span> <span class="o">=</span> <span class="n">MadaclimRasters</span><span class="p">(</span><span class="n">clim_raster</span><span class="o">=</span><span class="n">mada_info</span><span class="o">.</span><span class="n">clim_raster</span><span class="p">,</span> <span class="n">env_raster</span><span class="o">=</span><span class="n">mada_info</span><span class="o">.</span><span class="n">env_raster</span><span class="p">)</span>    <span class="c1"># Using common attr btw the instances</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mada_rasters</span><span class="o">.</span><span class="n">plot_layer</span><span class="p">(</span><span class="n">env_layers_labels</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Pass in any number of kwargs to the imshow or cax (raster + colorbarax) or histplot for customization</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mada_rasters</span><span class="o">.</span><span class="n">plot_layer</span><span class="p">(</span><span class="n">env_labels</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">imshow_cmap</span><span class="o">=</span><span class="s2">&quot;terrain&quot;</span><span class="p">,</span> <span class="n">histplot_binwidth</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">histplot_stat</span><span class="o">=</span><span class="s2">&quot;count&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Some layers are categorical data so the figure formatting will change (no cbar)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">geo_rock_label</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">label</span> <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">env_labels</span> <span class="k">if</span> <span class="s2">&quot;geo&quot;</span> <span class="ow">in</span> <span class="n">label</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mada_rasters</span><span class="o">.</span><span class="n">plot_layer</span><span class="p">(</span><span class="n">geo_rock_label</span><span class="p">,</span> <span class="n">subplots_figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># For numerical features with highly skewed distribution, specify vmin or vmax for the raster map</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mada_rasters</span><span class="o">.</span><span class="n">plot_layer</span><span class="p">(</span><span class="n">env_labels</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">imshow_vmin</span><span class="o">=</span><span class="mi">6000</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># To know which are the categorical data, use the MadaclimLayers utilities</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span><span class="o">.</span><span class="n">categorical_layers</span>    <span class="c1"># as df</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mada_info</span><span class="o">.</span><span class="n">get_categorical_combinations</span><span class="p">()</span>    <span class="c1"># As dict, default selects all possibilities</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Tahiri Lab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>